import{g as T}from"./@turf-67881268.js";var H={eudist:function(n,a,o){for(var r=n.length,t=0,e=0;e<r;e++){var s=(n[e]||0)-(a[e]||0);t+=s*s}return o?Math.sqrt(t):t},mandist:function(n,a,o){for(var r=n.length,t=0,e=0;e<r;e++)t+=Math.abs((n[e]||0)-(a[e]||0));return o?Math.sqrt(t):t},dist:function(n,a,o){var r=Math.abs(n-a);return o?r:r*r}},J=H,U=J.eudist,V=J.dist,W={kmrand:function(n,a){for(var o={},r=[],t=a<<2,e=n.length,s=n[0].length>0;r.length<a&&t-- >0;){var f=n[Math.floor(Math.random()*e)],M=s?f.join("_"):""+f;o[M]||(o[M]=!0,r.push(f))}if(r.length<a)throw new Error("Error initializating clusters");return r},kmpp:function(n,a){var o=n[0].length?U:V,r=[],t=n.length,e=n[0].length>0,s=n[Math.floor(Math.random()*t)];for(e?s.join("_"):""+s,r.push(s);r.length<a;){for(var f=[],M=r.length,w=0,l=[],i=0;i<t;i++){for(var g=1/0,d=0;d<M;d++){var k=o(n[i],r[d]);k<=g&&(g=k)}f[i]=g}for(var h=0;h<t;h++)w+=f[h];for(var c=0;c<t;c++)l[c]={i:c,v:n[c],pr:f[c]/w,cs:0};l.sort(function(p,E){return p.pr-E.pr}),l[0].cs=l[0].pr;for(var m=1;m<t;m++)l[m].cs=l[m-1].cs+l[m].pr;for(var b=Math.random(),u=0;u<t-1&&l[u++].cs<b;);r.push(l[u-1].v)}return r}},F=H,K=W,Y=F.eudist;F.mandist;F.dist;var Z=K.kmrand,x=K.kmpp,B=1e4;function G(v,n,a){a=a||[];for(var o=0;o<v;o++)a[o]=n;return a}function j(v,n,a,o){var r=[],t=[],e=[],s=[],f=!1,M=o||B,w=v.length,l=v[0].length,i=l>0,g=[];if(a)a=="kmrand"?r=Z(v,n):a=="kmpp"?r=x(v,n):r=a;else for(var d={};r.length<n;){var k=Math.floor(Math.random()*w);d[k]||(d[k]=!0,r.push(v[k]))}do{G(n,0,g);for(var h=0;h<w;h++){for(var c=1/0,m=0,b=0;b<n;b++){var s=i?Y(v[h],r[b]):Math.abs(v[h]-r[b]);s<=c&&(c=s,m=b)}e[h]=m,g[m]++}for(var u=[],t=[],p=0;p<n;p++)u[p]=i?G(l,0,u[p]):0,t[p]=r[p];if(i){for(var E=0;E<n;E++)r[E]=[];for(var $=0;$<w;$++)for(var L=e[$],N=u[L],O=v[$],q=0;q<l;q++)N[q]+=O[q];f=!0;for(var D=0;D<n;D++){for(var X=r[D],P=u[D],Q=t[D],R=g[D],C=0;C<l;C++)X[C]=P[C]/R||0;if(f){for(var y=0;y<l;y++)if(Q[y]!=X[y]){f=!1;break}}}}else{for(var z=0;z<w;z++){var S=e[z];u[S]+=v[z]}for(var I=0;I<n;I++)r[I]=u[I]/g[I]||0;f=!0;for(var A=0;A<n;A++)if(t[A]!=r[A]){f=!1;break}}f=f||--M<=0}while(!f);return{it:B-M,k:n,idxs:e,centroids:r}}var _=j;const nr=T(_);export{nr as s};
