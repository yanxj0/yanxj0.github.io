import{I as H1}from"./chunk-f9e9b13c.js";function N1(e,u,h){h===void 0&&(h={});var y={type:"Feature"};return(h.id===0||h.id)&&(y.id=h.id),h.bbox&&(y.bbox=h.bbox),y.properties=u||{},y.geometry=e,y}function G1(e,u,h){if(h===void 0&&(h={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!F1(e[0])||!F1(e[1]))throw new Error("coordinates must contain numbers");var y={type:"Point",coordinates:e};return N1(y,u,h)}function E1(e,u,h){h===void 0&&(h={});for(var y=0,k=e;y<k.length;y++){var B=k[y];if(B.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var n=0;n<B[B.length-1].length;n++)if(B[B.length-1][n]!==B[0][n])throw new Error("First and last Position are not equivalent.")}var P={type:"Polygon",coordinates:e};return N1(P,u,h)}function W1(e,u){u===void 0&&(u={});var h={type:"FeatureCollection"};return u.id&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.features=e,h}function Q1(e,u,h){h===void 0&&(h={});var y={type:"MultiPolygon",coordinates:e};return N1(y,u,h)}function F1(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function w1(e){return!!e&&e.constructor===Object}function B1(e,u,h){if(e!==null)for(var y,k,B,n,P,p,s,f=0,a=0,i,o=e.type,o1=o==="FeatureCollection",X=o==="Feature",y1=o1?e.features.length:1,C=0;C<y1;C++){s=o1?e.features[C].geometry:X?e.geometry:e,i=s?s.type==="GeometryCollection":!1,P=i?s.geometries.length:1;for(var J=0;J<P;J++){var A=0,R=0;if(n=i?s.geometries[J]:s,n!==null){p=n.coordinates;var L=n.type;switch(f=h&&(L==="Polygon"||L==="MultiPolygon")?1:0,L){case null:break;case"Point":if(u(p,a,C,A,R)===!1)return!1;a++,A++;break;case"LineString":case"MultiPoint":for(y=0;y<p.length;y++){if(u(p[y],a,C,A,R)===!1)return!1;a++,L==="MultiPoint"&&A++}L==="LineString"&&A++;break;case"Polygon":case"MultiLineString":for(y=0;y<p.length;y++){for(k=0;k<p[y].length-f;k++){if(u(p[y][k],a,C,A,R)===!1)return!1;a++}L==="MultiLineString"&&A++,L==="Polygon"&&R++}L==="Polygon"&&A++;break;case"MultiPolygon":for(y=0;y<p.length;y++){for(R=0,k=0;k<p[y].length;k++){for(B=0;B<p[y][k].length-f;B++){if(u(p[y][k][B],a,C,A,R)===!1)return!1;a++}R++}A++}break;case"GeometryCollection":for(y=0;y<n.geometries.length;y++)if(B1(n.geometries[y],u,h)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function D1(e,u){if(e.type==="Feature")u(e,0);else if(e.type==="FeatureCollection")for(var h=0;h<e.features.length&&u(e.features[h],h)!==!1;h++);}function Z1(e,u){var h,y,k,B,n,P,p,s,f,a,i=0,o=e.type==="FeatureCollection",o1=e.type==="Feature",X=o?e.features.length:1;for(h=0;h<X;h++){for(P=o?e.features[h].geometry:o1?e.geometry:e,s=o?e.features[h].properties:o1?e.properties:{},f=o?e.features[h].bbox:o1?e.bbox:void 0,a=o?e.features[h].id:o1?e.id:void 0,p=P?P.type==="GeometryCollection":!1,n=p?P.geometries.length:1,k=0;k<n;k++){if(B=p?P.geometries[k]:P,B===null){if(u(null,i,s,f,a)===!1)return!1;continue}switch(B.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(u(B,i,s,f,a)===!1)return!1;break}case"GeometryCollection":{for(y=0;y<B.geometries.length;y++)if(u(B.geometries[y],i,s,f,a)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}i++}}function $1(e,u,h){var y=h;return Z1(e,function(k,B,n,P,p){B===0&&h===void 0?y=k:y=u(y,k,B,n,P,p)}),y}function S1(e){var u=[1/0,1/0,-1/0,-1/0];return B1(e,function(h){u[0]>h[0]&&(u[0]=h[0]),u[1]>h[1]&&(u[1]=h[1]),u[2]<h[0]&&(u[2]=h[0]),u[3]<h[1]&&(u[3]=h[1])}),u}S1.default=S1;function I1(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function h1(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function K1(e,u,h){if(!e)throw new Error("No featureCollection passed");if(!h)throw new Error(".collectionOf() requires a name");if(!e||e.type!=="FeatureCollection")throw new Error("Invalid input to "+h+", FeatureCollection required");for(var y=0,k=e.features;y<k.length;y++){var B=k[y];if(!B||B.type!=="Feature"||!B.geometry)throw new Error("Invalid input to "+h+", Feature with geometry required");if(!B.geometry||B.geometry.type!==u)throw new Error("Invalid input to "+h+": must be a "+u+", given "+B.geometry.type)}}function x1(e){return e.type==="Feature"?e.geometry:e}function t1(e,u,h){if(h===void 0&&(h={}),!e)throw new Error("point is required");if(!u)throw new Error("polygon is required");var y=I1(e),k=x1(u),B=k.type,n=u.bbox,P=k.coordinates;if(n&&j1(y,n)===!1)return!1;B==="Polygon"&&(P=[P]);for(var p=!1,s=0;s<P.length&&!p;s++)if(T1(y,P[s][0],h.ignoreBoundary)){for(var f=!1,a=1;a<P[s].length&&!f;)T1(y,P[s][a],!h.ignoreBoundary)&&(f=!0),a++;f||(p=!0)}return p}function T1(e,u,h){var y=!1;u[0][0]===u[u.length-1][0]&&u[0][1]===u[u.length-1][1]&&(u=u.slice(0,u.length-1));for(var k=0,B=u.length-1;k<u.length;B=k++){var n=u[k][0],P=u[k][1],p=u[B][0],s=u[B][1],f=e[1]*(n-p)+P*(p-e[0])+s*(e[0]-n)===0&&(n-e[0])*(p-e[0])<=0&&(P-e[1])*(s-e[1])<=0;if(f)return!h;var a=P>e[1]!=s>e[1]&&e[0]<(p-n)*(e[1]-P)/(s-P)+n;a&&(y=!y)}return y}function j1(e,u){return u[0]<=e[0]&&u[1]<=e[1]&&u[2]>=e[0]&&u[3]>=e[1]}function v1(e){var u=[];return e.type==="FeatureCollection"?D1(e,function(h){B1(h,function(y){u.push(G1(y,h.properties))})}):B1(e,function(h){u.push(G1(h,e.properties))}),W1(u)}var X1=6378137;function g1(e){return $1(e,function(u,h){return u+_1(h)},0)}function _1(e){var u=0,h;switch(e.type){case"Polygon":return Y1(e.coordinates);case"MultiPolygon":for(h=0;h<e.coordinates.length;h++)u+=Y1(e.coordinates[h]);return u;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function Y1(e){var u=0;if(e&&e.length>0){u+=Math.abs(z1(e[0]));for(var h=1;h<e.length;h++)u-=Math.abs(z1(e[h]))}return u}function z1(e){var u,h,y,k,B,n,P,p=0,s=e.length;if(s>2){for(P=0;P<s;P++)P===s-2?(k=s-2,B=s-1,n=0):P===s-1?(k=s-1,B=0,n=1):(k=P,B=P+1,n=P+2),u=e[k],h=e[B],y=e[n],p+=(k1(y[0])-k1(u[0]))*Math.sin(k1(h[1]));p=p*X1*X1/2}return p}function k1(e){return e*Math.PI/180}function d1(e,u){if(u=u||{},!w1(u))throw new Error("options is invalid");var h=u.zProperty||"elevation",y=u.flip,k=u.flags;K1(e,"Point","input must contain Points");for(var B=c1(e,y),n=[],P=0;P<B.length;P++){for(var p=B[P],s=[],f=0;f<p.length;f++){var a=p[f];a.properties[h]?s.push(a.properties[h]):s.push(0),k===!0&&(a.properties.matrixPosition=[P,f])}n.push(s)}return n}function c1(e,u){var h={};D1(e,function(B){var n=h1(B)[1];h[n]||(h[n]=[]),h[n].push(B)});var y=Object.keys(h).map(function(B){var n=h[B],P=n.sort(function(p,s){return h1(p)[0]-h1(s)[0]});return P}),k=y.sort(function(B,n){return u?h1(B[0])[1]-h1(n[0])[1]:h1(n[0])[1]-h1(B[0])[1]});return k}/*!
 * @license GNU Affero General Public License.
 * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
 * v. 1.2.0
 * https://github.com/RaumZeit/MarchingSquares.js
 *
 * MarchingSquaresJS is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * MarchingSquaresJS is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * As additional permission under GNU Affero General Public License version 3
 * section 7, third-party projects (personal or commercial) may distribute,
 * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
 * requirement that said third-party project for that reason alone becomes
 * subject to any requirement of the GNU Affero General Public License version 3.
 * Any modifications to MarchingSquaresJS, however, must be shared with the public
 * and made available.
 *
 * In summary this:
 * - allows you to use MarchingSquaresJS at no cost
 * - allows you to use MarchingSquaresJS for both personal and commercial purposes
 * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
 *   license as long as this license notice is included
 * - enables you to keep the source code of your program that uses MarchingSquaresJS
 *   undisclosed
 * - forces you to share any modifications you have made to MarchingSquaresJS,
 *   e.g. bug-fixes
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
 */var U1={successCallback:null,verbose:!1,polygons:!1},p1={};function V1(e,u,h,y){y=y||{};for(var k=Object.keys(U1),B=0;B<k.length;B++){var n=k[B],P=y[n];P=typeof P<"u"&&P!==null?P:U1[n],p1[n]=P}p1.verbose;var p=T0(e,u,h),s;return p1.polygons?(p1.verbose,s=D0(p)):(p1.verbose,s=X0(p)),typeof p1.successCallback=="function"&&p1.successCallback(s),s}var a1=64,i1=16,n1=4,f1=1,z=[],U=[],W=[],D=[],K=[],H=[],Q=[],Z=[],$=[],I=[],x=[],t=[],j=[],v=[],g=[],_=[],d=[],c=[],V=[],m=[],b=[],l=[],e1=[],s1=[];Q[85]=I[85]=-1;Z[85]=x[85]=0;$[85]=t[85]=1;V[85]=l[85]=1;m[85]=e1[85]=0;b[85]=s1[85]=1;z[85]=D[85]=0;U[85]=K[85]=-1;W[85]=g[85]=0;_[85]=j[85]=0;d[85]=v[85]=1;H[85]=c[85]=1;l[1]=l[169]=0;e1[1]=e1[169]=-1;s1[1]=s1[169]=0;j[1]=j[169]=-1;v[1]=v[169]=0;g[1]=g[169]=0;I[4]=I[166]=0;x[4]=x[166]=-1;t[4]=t[166]=1;_[4]=_[166]=1;d[4]=d[166]=0;c[4]=c[166]=0;Q[16]=Q[154]=0;Z[16]=Z[154]=1;$[16]=$[154]=1;D[16]=D[154]=1;K[16]=K[154]=0;H[16]=H[154]=1;V[64]=V[106]=0;m[64]=m[106]=1;b[64]=b[106]=0;z[64]=z[106]=-1;U[64]=U[106]=0;W[64]=W[106]=1;V[2]=V[168]=0;m[2]=m[168]=-1;b[2]=b[168]=1;l[2]=l[168]=0;e1[2]=e1[168]=-1;s1[2]=s1[168]=0;j[2]=j[168]=-1;v[2]=v[168]=0;g[2]=g[168]=0;_[2]=_[168]=-1;d[2]=d[168]=0;c[2]=c[168]=1;Q[8]=Q[162]=0;Z[8]=Z[162]=-1;$[8]=$[162]=0;I[8]=I[162]=0;x[8]=x[162]=-1;t[8]=t[162]=1;j[8]=j[162]=1;v[8]=v[162]=0;g[8]=g[162]=1;_[8]=_[162]=1;d[8]=d[162]=0;c[8]=c[162]=0;Q[32]=Q[138]=0;Z[32]=Z[138]=1;$[32]=$[138]=1;I[32]=I[138]=0;x[32]=x[138]=1;t[32]=t[138]=0;z[32]=z[138]=1;U[32]=U[138]=0;W[32]=W[138]=0;D[32]=D[138]=1;K[32]=K[138]=0;H[32]=H[138]=1;l[128]=l[42]=0;e1[128]=e1[42]=1;s1[128]=s1[42]=1;V[128]=V[42]=0;m[128]=m[42]=1;b[128]=b[42]=0;z[128]=z[42]=-1;U[128]=U[42]=0;W[128]=W[42]=1;D[128]=D[42]=-1;K[128]=K[42]=0;H[128]=H[42]=0;I[5]=I[165]=-1;x[5]=x[165]=0;t[5]=t[165]=0;l[5]=l[165]=1;e1[5]=e1[165]=0;s1[5]=s1[165]=0;_[20]=_[150]=0;d[20]=d[150]=1;c[20]=c[150]=1;D[20]=D[150]=0;K[20]=K[150]=-1;H[20]=H[150]=1;Q[80]=Q[90]=-1;Z[80]=Z[90]=0;$[80]=$[90]=1;V[80]=V[90]=1;m[80]=m[90]=0;b[80]=b[90]=1;j[65]=j[105]=0;v[65]=v[105]=1;g[65]=g[105]=0;z[65]=z[105]=0;U[65]=U[105]=-1;W[65]=W[105]=0;Q[160]=Q[10]=-1;Z[160]=Z[10]=0;$[160]=$[10]=1;I[160]=I[10]=-1;x[160]=x[10]=0;t[160]=t[10]=0;l[160]=l[10]=1;e1[160]=e1[10]=0;s1[160]=s1[10]=0;V[160]=V[10]=1;m[160]=m[10]=0;b[160]=b[10]=1;_[130]=_[40]=0;d[130]=d[40]=1;c[130]=c[40]=1;j[130]=j[40]=0;v[130]=v[40]=1;g[130]=g[40]=0;z[130]=z[40]=0;U[130]=U[40]=-1;W[130]=W[40]=0;D[130]=D[40]=0;K[130]=K[40]=-1;H[130]=H[40]=1;I[37]=I[133]=0;x[37]=x[133]=1;t[37]=t[133]=1;l[37]=l[133]=0;e1[37]=e1[133]=1;s1[37]=s1[133]=0;z[37]=z[133]=-1;U[37]=U[133]=0;W[37]=W[133]=0;D[37]=D[133]=1;K[37]=K[133]=0;H[37]=H[133]=0;_[148]=_[22]=-1;d[148]=d[22]=0;c[148]=c[22]=0;l[148]=l[22]=0;e1[148]=e1[22]=-1;s1[148]=s1[22]=1;V[148]=V[22]=0;m[148]=m[22]=1;b[148]=b[22]=1;D[148]=D[22]=-1;K[148]=K[22]=0;H[148]=H[22]=1;Q[82]=Q[88]=0;Z[82]=Z[88]=-1;$[82]=$[88]=1;_[82]=_[88]=1;d[82]=d[88]=0;c[82]=c[88]=1;j[82]=j[88]=-1;v[82]=v[88]=0;g[82]=g[88]=1;V[82]=V[88]=0;m[82]=m[88]=-1;b[82]=b[88]=0;Q[73]=Q[97]=0;Z[73]=Z[97]=1;$[73]=$[97]=0;I[73]=I[97]=0;x[73]=x[97]=-1;t[73]=t[97]=0;j[73]=j[97]=1;v[73]=v[97]=0;g[73]=g[97]=0;z[73]=z[97]=1;U[73]=U[97]=0;W[73]=W[97]=1;Q[145]=Q[25]=0;Z[145]=Z[25]=-1;$[145]=$[25]=0;j[145]=j[25]=1;v[145]=v[25]=0;g[145]=g[25]=1;l[145]=l[25]=0;e1[145]=e1[25]=1;s1[145]=s1[25]=1;D[145]=D[25]=-1;K[145]=K[25]=0;H[145]=H[25]=0;I[70]=I[100]=0;x[70]=x[100]=1;t[70]=t[100]=0;_[70]=_[100]=-1;d[70]=d[100]=0;c[70]=c[100]=1;V[70]=V[100]=0;m[70]=m[100]=-1;b[70]=b[100]=1;z[70]=z[100]=1;U[70]=U[100]=0;W[70]=W[100]=0;I[101]=I[69]=0;x[101]=x[69]=1;t[101]=t[69]=0;z[101]=z[69]=1;U[101]=U[69]=0;W[101]=W[69]=0;l[149]=l[21]=0;e1[149]=e1[21]=1;s1[149]=s1[21]=1;D[149]=D[21]=-1;K[149]=K[21]=0;H[149]=H[21]=0;_[86]=_[84]=-1;d[86]=d[84]=0;c[86]=c[84]=1;V[86]=V[84]=0;m[86]=m[84]=-1;b[86]=b[84]=1;Q[89]=Q[81]=0;Z[89]=Z[81]=-1;$[89]=$[81]=0;j[89]=j[81]=1;v[89]=v[81]=0;g[89]=g[81]=1;Q[96]=Q[74]=0;Z[96]=Z[74]=1;$[96]=$[74]=0;I[96]=I[74]=-1;x[96]=x[74]=0;t[96]=t[74]=1;V[96]=V[74]=1;m[96]=m[74]=0;b[96]=b[74]=0;z[96]=z[74]=1;U[96]=U[74]=0;W[96]=W[74]=1;Q[24]=Q[146]=0;Z[24]=Z[146]=-1;$[24]=$[146]=1;_[24]=_[146]=1;d[24]=d[146]=0;c[24]=c[146]=1;j[24]=j[146]=0;v[24]=v[146]=1;g[24]=g[146]=1;D[24]=D[146]=0;K[24]=K[146]=-1;H[24]=H[146]=0;I[6]=I[164]=-1;x[6]=x[164]=0;t[6]=t[164]=1;_[6]=_[164]=-1;d[6]=d[164]=0;c[6]=c[164]=0;l[6]=l[164]=0;e1[6]=e1[164]=-1;s1[6]=s1[164]=1;V[6]=V[164]=1;m[6]=m[164]=0;b[6]=b[164]=0;j[129]=j[41]=0;v[129]=v[41]=1;g[129]=g[41]=1;l[129]=l[41]=0;e1[129]=e1[41]=1;s1[129]=s1[41]=0;z[129]=z[41]=-1;U[129]=U[41]=0;W[129]=W[41]=0;D[129]=D[41]=0;K[129]=K[41]=-1;H[129]=H[41]=0;_[66]=_[104]=0;d[66]=d[104]=1;c[66]=c[104]=0;j[66]=j[104]=-1;v[66]=v[104]=0;g[66]=g[104]=1;V[66]=V[104]=0;m[66]=m[104]=-1;b[66]=b[104]=0;z[66]=z[104]=0;U[66]=U[104]=-1;W[66]=W[104]=1;Q[144]=Q[26]=-1;Z[144]=Z[26]=0;$[144]=$[26]=0;l[144]=l[26]=1;e1[144]=e1[26]=0;s1[144]=s1[26]=1;V[144]=V[26]=0;m[144]=m[26]=1;b[144]=b[26]=1;D[144]=D[26]=-1;K[144]=K[26]=0;H[144]=H[26]=1;I[36]=I[134]=0;x[36]=x[134]=1;t[36]=t[134]=1;_[36]=_[134]=0;d[36]=d[134]=1;c[36]=c[134]=0;z[36]=z[134]=0;U[36]=U[134]=-1;W[36]=W[134]=1;D[36]=D[134]=1;K[36]=K[134]=0;H[36]=H[134]=0;Q[9]=Q[161]=-1;Z[9]=Z[161]=0;$[9]=$[161]=0;I[9]=I[161]=0;x[9]=x[161]=-1;t[9]=t[161]=0;j[9]=j[161]=1;v[9]=v[161]=0;g[9]=g[161]=0;l[9]=l[161]=1;e1[9]=e1[161]=0;s1[9]=s1[161]=1;Q[136]=0;Z[136]=1;$[136]=1;I[136]=0;x[136]=1;t[136]=0;_[136]=-1;d[136]=0;c[136]=1;j[136]=-1;v[136]=0;g[136]=0;l[136]=0;e1[136]=-1;s1[136]=0;V[136]=0;m[136]=-1;b[136]=1;z[136]=1;U[136]=0;W[136]=0;D[136]=1;K[136]=0;H[136]=1;Q[34]=0;Z[34]=-1;$[34]=0;I[34]=0;x[34]=-1;t[34]=1;_[34]=1;d[34]=0;c[34]=0;j[34]=1;v[34]=0;g[34]=1;l[34]=0;e1[34]=1;s1[34]=1;V[34]=0;m[34]=1;b[34]=0;z[34]=-1;U[34]=0;W[34]=1;D[34]=-1;K[34]=0;H[34]=0;Q[35]=0;Z[35]=1;$[35]=1;I[35]=0;x[35]=-1;t[35]=1;_[35]=1;d[35]=0;c[35]=0;j[35]=-1;v[35]=0;g[35]=0;l[35]=0;e1[35]=-1;s1[35]=0;V[35]=0;m[35]=1;b[35]=0;z[35]=-1;U[35]=0;W[35]=1;D[35]=1;K[35]=0;H[35]=1;Q[153]=0;Z[153]=1;$[153]=1;j[153]=-1;v[153]=0;g[153]=0;l[153]=0;e1[153]=-1;s1[153]=0;D[153]=1;K[153]=0;H[153]=1;I[102]=0;x[102]=-1;t[102]=1;_[102]=1;d[102]=0;c[102]=0;V[102]=0;m[102]=1;b[102]=0;z[102]=-1;U[102]=0;W[102]=1;Q[155]=0;Z[155]=-1;$[155]=0;j[155]=1;v[155]=0;g[155]=1;l[155]=0;e1[155]=1;s1[155]=1;D[155]=-1;K[155]=0;H[155]=0;I[103]=0;x[103]=1;t[103]=0;_[103]=-1;d[103]=0;c[103]=1;V[103]=0;m[103]=-1;b[103]=1;z[103]=1;U[103]=0;W[103]=0;Q[152]=0;Z[152]=1;$[152]=1;_[152]=-1;d[152]=0;c[152]=1;j[152]=-1;v[152]=0;g[152]=0;l[152]=0;e1[152]=-1;s1[152]=0;V[152]=0;m[152]=-1;b[152]=1;D[152]=1;K[152]=0;H[152]=1;Q[156]=0;Z[156]=-1;$[156]=1;_[156]=1;d[156]=0;c[156]=1;j[156]=-1;v[156]=0;g[156]=0;l[156]=0;e1[156]=-1;s1[156]=0;V[156]=0;m[156]=1;b[156]=1;D[156]=-1;K[156]=0;H[156]=1;Q[137]=0;Z[137]=1;$[137]=1;I[137]=0;x[137]=1;t[137]=0;j[137]=-1;v[137]=0;g[137]=0;l[137]=0;e1[137]=-1;s1[137]=0;z[137]=1;U[137]=0;W[137]=0;D[137]=1;K[137]=0;H[137]=1;Q[139]=0;Z[139]=1;$[139]=1;I[139]=0;x[139]=-1;t[139]=0;j[139]=1;v[139]=0;g[139]=0;l[139]=0;e1[139]=1;s1[139]=0;z[139]=-1;U[139]=0;W[139]=0;D[139]=1;K[139]=0;H[139]=1;Q[98]=0;Z[98]=-1;$[98]=0;I[98]=0;x[98]=-1;t[98]=1;_[98]=1;d[98]=0;c[98]=0;j[98]=1;v[98]=0;g[98]=1;V[98]=0;m[98]=1;b[98]=0;z[98]=-1;U[98]=0;W[98]=1;Q[99]=0;Z[99]=1;$[99]=0;I[99]=0;x[99]=-1;t[99]=1;_[99]=1;d[99]=0;c[99]=0;j[99]=-1;v[99]=0;g[99]=1;V[99]=0;m[99]=-1;b[99]=0;z[99]=1;U[99]=0;W[99]=1;I[38]=0;x[38]=-1;t[38]=1;_[38]=1;d[38]=0;c[38]=0;l[38]=0;e1[38]=1;s1[38]=1;V[38]=0;m[38]=1;b[38]=0;z[38]=-1;U[38]=0;W[38]=1;D[38]=-1;K[38]=0;H[38]=0;I[39]=0;x[39]=1;t[39]=1;_[39]=-1;d[39]=0;c[39]=0;l[39]=0;e1[39]=-1;s1[39]=1;V[39]=0;m[39]=1;b[39]=0;z[39]=-1;U[39]=0;W[39]=1;D[39]=1;K[39]=0;H[39]=0;var M1=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},A1=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},L1=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},C1=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},R1=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},O1=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},J1=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},q1=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},m1=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},b1=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},l1=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},e0=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},s0=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},u0=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},r0=function(){return[[0,0],[0,1],[1,1],[1,0]]},n0=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},f0=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},a0=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},i0=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},o0=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},h0=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},p0=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},y0=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},w0=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},B0=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},k0=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},P0=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},E0=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},S0=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},N0=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},M0=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},A0=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},L0=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},C0=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},R0=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},O0=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},J0=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},q0=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},G0=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},F0=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},N=[],S=[],O=[],M=[],T=[],q=[],u1=[],r1=[];M[1]=T[1]=18;M[169]=T[169]=18;O[4]=S[4]=12;O[166]=S[166]=12;N[16]=r1[16]=4;N[154]=r1[154]=4;q[64]=u1[64]=22;q[106]=u1[106]=22;O[2]=q[2]=17;M[2]=T[2]=18;O[168]=q[168]=17;M[168]=T[168]=18;N[8]=M[8]=9;S[8]=O[8]=12;N[162]=M[162]=9;S[162]=O[162]=12;N[32]=r1[32]=4;S[32]=u1[32]=1;N[138]=r1[138]=4;S[138]=u1[138]=1;T[128]=r1[128]=21;q[128]=u1[128]=22;T[42]=r1[42]=21;q[42]=u1[42]=22;S[5]=T[5]=14;S[165]=T[165]=14;O[20]=r1[20]=6;O[150]=r1[150]=6;N[80]=q[80]=11;N[90]=q[90]=11;M[65]=u1[65]=3;M[105]=u1[105]=3;N[160]=q[160]=11;S[160]=T[160]=14;N[10]=q[10]=11;S[10]=T[10]=14;O[130]=r1[130]=6;M[130]=u1[130]=3;O[40]=r1[40]=6;M[40]=u1[40]=3;S[101]=u1[101]=1;S[69]=u1[69]=1;T[149]=r1[149]=21;T[21]=r1[21]=21;O[86]=q[86]=17;O[84]=q[84]=17;N[89]=M[89]=9;N[81]=M[81]=9;N[96]=u1[96]=0;S[96]=q[96]=15;N[74]=u1[74]=0;S[74]=q[74]=15;N[24]=O[24]=8;M[24]=r1[24]=7;N[146]=O[146]=8;M[146]=r1[146]=7;S[6]=q[6]=15;O[6]=T[6]=16;S[164]=q[164]=15;O[164]=T[164]=16;M[129]=r1[129]=7;T[129]=u1[129]=20;M[41]=r1[41]=7;T[41]=u1[41]=20;O[66]=u1[66]=2;M[66]=q[66]=19;O[104]=u1[104]=2;M[104]=q[104]=19;N[144]=T[144]=10;q[144]=r1[144]=23;N[26]=T[26]=10;q[26]=r1[26]=23;S[36]=r1[36]=5;O[36]=u1[36]=2;S[134]=r1[134]=5;O[134]=u1[134]=2;N[9]=T[9]=10;S[9]=M[9]=13;N[161]=T[161]=10;S[161]=M[161]=13;S[37]=r1[37]=5;T[37]=u1[37]=20;S[133]=r1[133]=5;T[133]=u1[133]=20;O[148]=T[148]=16;q[148]=r1[148]=23;O[22]=T[22]=16;q[22]=r1[22]=23;N[82]=O[82]=8;M[82]=q[82]=19;N[88]=O[88]=8;M[88]=q[88]=19;N[73]=u1[73]=0;S[73]=M[73]=13;N[97]=u1[97]=0;S[97]=M[97]=13;N[145]=M[145]=9;T[145]=r1[145]=21;N[25]=M[25]=9;T[25]=r1[25]=21;S[70]=u1[70]=1;O[70]=q[70]=17;S[100]=u1[100]=1;O[100]=q[100]=17;N[34]=M[34]=9;S[34]=O[34]=12;T[34]=r1[34]=21;q[34]=u1[34]=22;N[136]=r1[136]=4;S[136]=u1[136]=1;O[136]=q[136]=17;M[136]=T[136]=18;N[35]=r1[35]=4;S[35]=O[35]=12;M[35]=T[35]=18;q[35]=u1[35]=22;N[153]=r1[153]=4;M[153]=T[153]=18;S[102]=O[102]=12;q[102]=u1[102]=22;N[155]=M[155]=9;T[155]=r1[155]=23;S[103]=u1[103]=1;O[103]=q[103]=17;N[152]=r1[152]=4;O[152]=q[152]=17;M[152]=T[152]=18;N[156]=O[156]=8;M[156]=T[156]=18;q[156]=r1[156]=23;N[137]=r1[137]=4;S[137]=u1[137]=1;M[137]=T[137]=18;N[139]=r1[139]=4;S[139]=M[139]=13;T[139]=u1[139]=20;N[98]=M[98]=9;S[98]=O[98]=12;q[98]=u1[98]=22;N[99]=u1[99]=0;S[99]=O[99]=12;M[99]=q[99]=19;S[38]=O[38]=12;T[38]=r1[38]=21;q[38]=u1[38]=22;S[39]=r1[39]=5;O[39]=T[39]=16;q[39]=u1[39]=22;var E=[];E[1]=E[169]=M1;E[4]=E[166]=A1;E[16]=E[154]=L1;E[64]=E[106]=C1;E[168]=E[2]=R1;E[162]=E[8]=O1;E[138]=E[32]=J1;E[42]=E[128]=q1;E[5]=E[165]=m1;E[20]=E[150]=b1;E[80]=E[90]=l1;E[65]=E[105]=e0;E[160]=E[10]=s0;E[130]=E[40]=u0;E[85]=r0;E[101]=E[69]=n0;E[149]=E[21]=f0;E[86]=E[84]=a0;E[89]=E[81]=i0;E[96]=E[74]=o0;E[24]=E[146]=h0;E[6]=E[164]=p0;E[129]=E[41]=y0;E[66]=E[104]=w0;E[144]=E[26]=B0;E[36]=E[134]=k0;E[9]=E[161]=P0;E[37]=E[133]=E0;E[148]=E[22]=S0;E[82]=E[88]=N0;E[73]=E[97]=M0;E[145]=E[25]=A0;E[70]=E[100]=L0;E[34]=function(e){return[q1(e),O1(e)]};E[35]=C0;E[136]=function(e){return[J1(e),R1(e)]};E[153]=function(e){return[L1(e),M1(e)]};E[102]=function(e){return[A1(e),C1(e)]};E[155]=R0;E[103]=O0;E[152]=function(e){return[L1(e),R1(e)]};E[156]=J0;E[137]=function(e){return[J1(e),M1(e)]};E[139]=q0;E[98]=function(e){return[O1(e),C1(e)]};E[99]=G0;E[38]=function(e){return[A1(e),q1(e)]};E[39]=F0;function r(e,u,h){return(e-u)/(h-u)}function P1(e){return e.constructor.toString().indexOf("Array")>-1}function T0(e,u,h){for(var y=e.length-1,k=e[0].length-1,B={rows:y,cols:k,cells:[]},n=u+Math.abs(h),P=0;P<y;++P){B.cells[P]=[];for(var p=0;p<k;++p){var s=0,f=e[P+1][p],a=e[P+1][p+1],i=e[P][p+1],o=e[P][p];if(!(isNaN(f)||isNaN(a)||isNaN(i)||isNaN(o))){s|=f<u?0:f>n?128:64,s|=a<u?0:a>n?32:16,s|=i<u?0:i>n?8:4,s|=o<u?0:o>n?2:1;var o1=+s,X=0;if(s===17||s===18||s===33||s===34||s===38||s===68||s===72||s===98||s===102||s===132||s===136||s===137||s===152||s===153){var y1=(f+a+i+o)/4;X=y1>n?2:y1<u?0:1,s===34?X===1?s=35:X===0&&(s=136):s===136?X===1?(s=35,X=4):X===0&&(s=34):s===17?X===1?(s=155,X=4):X===0&&(s=153):s===68?X===1?(s=103,X=4):X===0&&(s=102):s===153?X===1&&(s=155):s===102?X===1&&(s=103):s===152?X<2&&(s=156,X=1):s===137?X<2&&(s=139,X=1):s===98?X<2&&(s=99,X=1):s===38?X<2&&(s=39,X=1):s===18?X>0?(s=156,X=4):s=152:s===33?X>0?(s=139,X=4):s=137:s===72?X>0?(s=99,X=4):s=98:s===132&&(X>0?(s=39,X=4):s=38)}if(s!=0&&s!=170){var C,J,A,R,L,Y,G,F;C=J=A=R=L=Y=G=F=.5;var w=[];s===1?(A=1-r(u,i,o),F=1-r(u,f,o),w.push(M[s])):s===169?(A=r(n,o,i),F=r(n,o,f),w.push(M[s])):s===4?(Y=1-r(u,a,i),R=r(u,o,i),w.push(S[s])):s===166?(Y=r(n,i,a),R=1-r(n,i,o),w.push(S[s])):s===16?(L=r(u,i,a),J=r(u,f,a),w.push(N[s])):s===154?(L=1-r(n,a,i),J=1-r(n,a,f),w.push(N[s])):s===64?(G=r(u,o,f),C=1-r(u,a,f),w.push(q[s])):s===106?(G=1-r(n,f,o),C=r(n,f,a),w.push(q[s])):s===168?(R=r(n,o,i),A=r(u,o,i),F=r(u,o,f),G=r(n,o,f),w.push(O[s]),w.push(M[s])):s===2?(R=1-r(u,i,o),A=1-r(n,i,o),F=1-r(n,f,o),G=1-r(u,f,o),w.push(O[s]),w.push(M[s])):s===162?(L=r(n,i,a),Y=r(u,i,a),R=1-r(u,i,o),A=1-r(n,i,o),w.push(O[s]),w.push(M[s])):s===8?(L=1-r(u,a,i),Y=1-r(n,a,i),R=r(n,o,i),A=r(u,o,i),w.push(N[s]),w.push(S[s])):s===138?(L=1-r(u,a,i),Y=1-r(n,a,i),C=1-r(n,a,f),J=1-r(u,a,f),w.push(N[s]),w.push(S[s])):s===32?(L=r(n,i,a),Y=r(u,i,a),C=r(u,f,a),J=r(n,f,a),w.push(N[s]),w.push(S[s])):s===42?(F=1-r(n,f,o),G=1-r(u,f,o),C=r(u,f,a),J=r(n,f,a),w.push(T[s]),w.push(q[s])):s===128&&(F=r(u,o,f),G=r(n,o,f),C=1-r(n,a,f),J=1-r(u,a,f),w.push(T[s]),w.push(q[s])),s===5?(Y=1-r(u,a,i),F=1-r(u,f,o),w.push(S[s])):s===165?(Y=r(n,i,a),F=r(n,o,f),w.push(S[s])):s===20?(R=r(u,o,i),J=r(u,f,a),w.push(O[s])):s===150?(R=1-r(n,i,o),J=1-r(n,a,f),w.push(O[s])):s===80?(L=r(u,i,a),G=r(u,o,f),w.push(N[s])):s===90?(L=1-r(n,a,i),G=1-r(n,f,o),w.push(N[s])):s===65?(A=1-r(u,i,o),C=1-r(u,a,f),w.push(M[s])):s===105?(A=r(n,o,i),C=r(n,f,a),w.push(M[s])):s===160?(L=r(n,i,a),Y=r(u,i,a),F=r(u,o,f),G=r(n,o,f),w.push(N[s]),w.push(S[s])):s===10?(L=1-r(u,a,i),Y=1-r(n,a,i),F=1-r(n,f,o),G=1-r(u,f,o),w.push(N[s]),w.push(S[s])):s===130?(R=1-r(u,i,o),A=1-r(n,i,o),C=1-r(n,a,f),J=1-r(u,a,f),w.push(O[s]),w.push(M[s])):s===40?(R=r(n,o,i),A=r(u,o,i),C=r(u,f,a),J=r(n,f,a),w.push(O[s]),w.push(M[s])):s===101?(Y=r(n,i,a),C=r(n,f,a),w.push(S[s])):s===69?(Y=1-r(u,a,i),C=1-r(u,a,f),w.push(S[s])):s===149?(F=r(n,o,f),J=1-r(n,a,f),w.push(T[s])):s===21?(F=1-r(u,f,o),J=r(u,f,a),w.push(T[s])):s===86?(R=1-r(n,i,o),G=1-r(n,f,o),w.push(O[s])):s===84?(R=r(u,o,i),G=r(u,o,f),w.push(O[s])):s===89?(L=1-r(n,a,i),A=r(n,o,i),w.push(M[s])):s===81?(L=r(u,i,a),A=1-r(u,i,o),w.push(M[s])):s===96?(L=r(n,i,a),Y=r(u,i,a),G=r(u,o,f),C=r(n,f,a),w.push(N[s]),w.push(S[s])):s===74?(L=1-r(u,a,i),Y=1-r(n,a,i),G=1-r(n,f,o),C=1-r(u,a,f),w.push(N[s]),w.push(S[s])):s===24?(L=1-r(n,a,i),R=r(n,o,i),A=r(u,o,i),J=r(u,f,a),w.push(N[s]),w.push(M[s])):s===146?(L=r(u,i,a),R=1-r(u,i,o),A=1-r(n,i,o),J=1-r(n,a,f),w.push(N[s]),w.push(M[s])):s===6?(Y=1-r(u,a,i),R=1-r(n,i,o),F=1-r(n,f,o),G=1-r(u,f,o),w.push(S[s]),w.push(O[s])):s===164?(Y=r(n,i,a),R=r(u,o,i),F=r(u,o,f),G=r(n,o,f),w.push(S[s]),w.push(O[s])):s===129?(A=1-r(u,i,o),F=r(n,o,f),C=1-r(n,a,f),J=1-r(u,a,f),w.push(M[s]),w.push(T[s])):s===41?(A=r(n,o,i),F=1-r(u,f,o),C=r(u,f,a),J=r(n,f,a),w.push(M[s]),w.push(T[s])):s===66?(R=1-r(u,i,o),A=1-r(n,i,o),G=1-r(n,f,o),C=1-r(u,a,f),w.push(O[s]),w.push(M[s])):s===104?(R=r(n,o,i),A=r(u,o,i),G=r(u,o,f),C=r(n,f,a),w.push(M[s]),w.push(u1[s])):s===144?(L=r(u,i,a),F=r(u,o,f),G=r(n,o,f),J=1-r(n,a,f),w.push(N[s]),w.push(q[s])):s===26?(L=1-r(n,a,i),F=1-r(n,f,o),G=1-r(u,f,o),J=r(u,f,a),w.push(N[s]),w.push(q[s])):s===36?(Y=r(n,i,a),R=r(u,o,i),C=r(u,f,a),J=r(n,f,a),w.push(S[s]),w.push(O[s])):s===134?(Y=1-r(u,a,i),R=1-r(n,i,o),C=1-r(n,a,f),J=1-r(u,a,f),w.push(S[s]),w.push(O[s])):s===9?(L=1-r(u,a,i),Y=1-r(n,a,i),A=r(n,o,i),F=1-r(u,f,o),w.push(N[s]),w.push(S[s])):s===161?(L=r(n,i,a),Y=r(u,i,a),A=1-r(u,i,o),F=r(n,o,f),w.push(N[s]),w.push(S[s])):s===37?(Y=r(n,i,a),F=1-r(u,f,o),C=r(u,f,a),J=r(n,f,a),w.push(S[s]),w.push(T[s])):s===133?(Y=1-r(u,a,i),F=r(n,o,f),C=1-r(n,a,f),J=1-r(u,a,f),w.push(S[s]),w.push(T[s])):s===148?(R=r(u,o,i),F=r(u,o,f),G=r(n,o,f),J=1-r(n,a,f),w.push(O[s]),w.push(q[s])):s===22?(R=1-r(n,i,o),F=1-r(n,f,o),G=1-r(u,f,o),J=r(u,f,a),w.push(O[s]),w.push(q[s])):s===82?(L=r(u,i,a),R=1-r(u,i,o),A=1-r(n,i,o),G=1-r(n,f,o),w.push(N[s]),w.push(M[s])):s===88?(L=1-r(n,a,i),R=r(n,o,i),A=r(u,o,i),G=r(u,o,f),w.push(N[s]),w.push(M[s])):s===73?(L=1-r(u,a,i),Y=1-r(n,a,i),A=r(n,o,i),C=1-r(u,a,f),w.push(N[s]),w.push(S[s])):s===97?(L=r(n,i,a),Y=r(u,i,a),A=1-r(u,i,o),C=r(n,f,a),w.push(N[s]),w.push(S[s])):s===145?(L=r(u,i,a),A=1-r(u,i,o),F=r(n,o,f),J=1-r(n,a,f),w.push(N[s]),w.push(T[s])):s===25?(L=1-r(n,a,i),A=r(n,o,i),F=1-r(u,f,o),J=r(u,f,a),w.push(N[s]),w.push(T[s])):s===70?(Y=1-r(u,a,i),R=1-r(n,i,o),G=1-r(n,f,o),C=1-r(u,a,f),w.push(S[s]),w.push(O[s])):s===100?(Y=r(n,i,a),R=r(u,o,i),G=r(u,o,f),C=r(n,f,a),w.push(S[s]),w.push(O[s])):s===34?(X===0?(L=1-r(u,a,i),Y=1-r(n,a,i),R=r(n,o,i),A=r(u,o,i),F=r(u,o,f),G=r(n,o,f),C=1-r(n,a,f),J=1-r(u,a,f)):(L=r(n,i,a),Y=r(u,i,a),R=1-r(u,i,o),A=1-r(n,i,o),F=1-r(n,f,o),G=1-r(u,f,o),C=r(u,f,a),J=r(n,f,a)),w.push(N[s]),w.push(S[s]),w.push(T[s]),w.push(q[s])):s===35?(X===4?(L=1-r(u,a,i),Y=1-r(n,a,i),R=r(n,o,i),A=r(u,o,i),F=r(u,o,f),G=r(n,o,f),C=1-r(n,a,f),J=1-r(u,a,f)):(L=r(n,i,a),Y=r(u,i,a),R=1-r(u,i,o),A=1-r(n,i,o),F=1-r(n,f,o),G=1-r(u,f,o),C=r(u,f,a),J=r(n,f,a)),w.push(N[s]),w.push(S[s]),w.push(M[s]),w.push(q[s])):s===136?(X===0?(L=r(n,i,a),Y=r(u,i,a),R=1-r(u,i,o),A=1-r(n,i,o),F=1-r(n,f,o),G=1-r(u,f,o),C=r(u,f,a),J=r(n,f,a)):(L=1-r(u,a,i),Y=1-r(n,a,i),R=r(n,o,i),A=r(u,o,i),F=r(u,o,f),G=r(n,o,f),C=1-r(n,a,f),J=1-r(u,a,f)),w.push(N[s]),w.push(S[s]),w.push(T[s]),w.push(q[s])):s===153?(X===0?(L=r(u,i,a),A=1-r(u,i,o),F=1-r(u,f,o),J=r(u,f,a)):(L=1-r(n,a,i),A=r(n,o,i),F=r(n,o,f),J=1-r(n,a,f)),w.push(N[s]),w.push(M[s])):s===102?(X===0?(Y=1-r(u,a,i),R=r(u,o,i),G=r(u,o,f),C=1-r(u,a,f)):(Y=r(n,i,a),R=1-r(n,i,o),G=1-r(n,f,o),C=r(n,f,a)),w.push(S[s]),w.push(q[s])):s===155?(X===4?(L=r(u,i,a),A=1-r(u,i,o),F=1-r(u,f,o),J=r(u,f,a)):(L=1-r(n,a,i),A=r(n,o,i),F=r(n,o,f),J=1-r(n,a,f)),w.push(N[s]),w.push(T[s])):s===103?(X===4?(Y=1-r(u,a,i),R=r(u,o,i),G=r(u,o,f),C=1-r(u,a,f)):(Y=r(n,i,a),R=1-r(n,i,o),G=1-r(n,f,o),C=r(n,f,a)),w.push(S[s]),w.push(O[s])):s===152?(X===0?(L=r(u,i,a),R=1-r(u,i,o),A=1-r(n,i,o),F=1-r(n,f,o),G=1-r(u,f,o),J=r(u,f,a)):(L=1-r(n,a,i),R=r(n,o,i),A=r(u,o,i),F=r(u,o,f),G=r(n,o,f),J=1-r(n,a,f)),w.push(N[s]),w.push(O[s]),w.push(M[s])):s===156?(X===4?(L=r(u,i,a),R=1-r(u,i,o),A=1-r(n,i,o),F=1-r(n,f,o),G=1-r(u,f,o),J=r(u,f,a)):(L=1-r(n,a,i),R=r(n,o,i),A=r(u,o,i),F=r(u,o,f),G=r(n,o,f),J=1-r(n,a,f)),w.push(N[s]),w.push(M[s]),w.push(q[s])):s===137?(X===0?(L=r(n,i,a),Y=r(u,i,a),A=1-r(u,i,o),F=1-r(u,f,o),C=r(u,f,a),J=r(n,f,a)):(L=1-r(u,a,i),Y=1-r(n,a,i),A=r(n,o,i),F=r(n,o,f),C=1-r(n,a,f),J=1-r(u,a,f)),w.push(N[s]),w.push(S[s]),w.push(M[s])):s===139?(X===4?(L=r(n,i,a),Y=r(u,i,a),A=1-r(u,i,o),F=1-r(u,f,o),C=r(u,f,a),J=r(n,f,a)):(L=1-r(u,a,i),Y=1-r(n,a,i),A=r(n,o,i),F=r(n,o,f),C=1-r(n,a,f),J=1-r(u,a,f)),w.push(N[s]),w.push(S[s]),w.push(T[s])):s===98?(X===0?(L=1-r(u,a,i),Y=1-r(n,a,i),R=r(n,o,i),A=r(u,o,i),G=r(u,o,f),C=1-r(u,a,f)):(L=r(n,i,a),Y=r(u,i,a),R=1-r(u,i,o),A=1-r(n,i,o),G=1-r(n,f,o),C=r(n,f,a)),w.push(N[s]),w.push(S[s]),w.push(q[s])):s===99?(X===4?(L=1-r(u,a,i),Y=1-r(n,a,i),R=r(n,o,i),A=r(u,o,i),G=r(u,o,f),C=1-r(u,a,f)):(L=r(n,i,a),Y=r(u,i,a),R=1-r(u,i,o),A=1-r(n,i,o),G=1-r(n,f,o),C=r(n,f,a)),w.push(N[s]),w.push(S[s]),w.push(M[s])):s===38?(X===0?(Y=1-r(u,a,i),R=r(u,o,i),F=r(u,o,f),G=r(n,o,f),C=1-r(n,a,f),J=1-r(u,a,f)):(Y=r(n,i,a),R=1-r(n,i,o),F=1-r(n,f,o),G=1-r(u,f,o),C=r(u,f,a),J=r(n,f,a)),w.push(S[s]),w.push(T[s]),w.push(q[s])):s===39?(X===4?(Y=1-r(u,a,i),R=r(u,o,i),F=r(u,o,f),G=r(n,o,f),C=1-r(n,a,f),J=1-r(u,a,f)):(Y=r(n,i,a),R=1-r(n,i,o),F=1-r(n,f,o),G=1-r(u,f,o),C=r(u,f,a),J=r(n,f,a)),w.push(S[s]),w.push(O[s]),w.push(q[s])):s===85&&(L=1,Y=0,R=1,A=0,F=0,G=1,C=0,J=1),C<0||C>1||J<0||J>1||L<0||L>1||R<0||R>1||F<0||F>1||G<0||G>1,B.cells[P][p]={cval:s,cval_real:o1,flipped:X,topleft:C,topright:J,righttop:L,rightbottom:Y,bottomright:R,bottomleft:A,leftbottom:F,lefttop:G,edges:w}}}}}return B}function X0(e){for(var u=[],h=e.rows,y=e.cols,k=[],B=0;B<h;B++)for(var n=0;n<y;n++)if(typeof e.cells[B][n]<"u"&&e.cells[B][n].edges.length>0){var P=e.cells[B][n],p=U0(P),s=null,f=n,a=B;p!==null&&k.push([p.p[0]+f,p.p[1]+a]);do{if(s=W0(e.cells[a][f],p.x,p.y,p.o),s!==null)k.push([s.p[0]+f,s.p[1]+a]),f+=s.x,a+=s.y,p=s;else break;if(a<0||a>=h||f<0||f>=y||typeof e.cells[a][f]>"u"){f-=s.x,a-=s.y;var i=Y0(e,f,a,s.x,s.y,s.o);if(i!==null)i.path.forEach(function(o){k.push(o)}),f=i.i,a=i.j,p=i;else break}}while(typeof e.cells[a][f]<"u"&&e.cells[a][f].edges.length>0);u.push(k),k=[],e.cells[B][n].edges.length>0&&n--}return u}function Y0(e,u,h,y,k,B){for(var n=e.cells[h][u],P=n.cval_real,p=u+y,s=h+k,f=[],a=!1;!a;){if(typeof e.cells[s]>"u"||typeof e.cells[s][p]>"u")if(s-=k,p-=y,n=e.cells[s][p],P=n.cval_real,k===-1)if(B===0)if(P&f1)f.push([p,s]),y=-1,k=0,B=0;else if(P&n1)f.push([p+1,s]),y=1,k=0,B=0;else{f.push([p+n.bottomright,s]),y=0,k=1,B=1,a=!0;break}else if(P&f1)f.push([p,s]),y=-1,k=0,B=0;else if(P&n1){f.push([p+n.bottomright,s]),y=0,k=1,B=1,a=!0;break}else{f.push([p+n.bottomleft,s]),y=0,k=1,B=0,a=!0;break}else if(k===1)if(B===0)if(P&i1)f.push([p+1,s+1]),y=1,k=0,B=1;else if(P&a1){f.push([p+n.topleft,s+1]),y=0,k=-1,B=0,a=!0;break}else{f.push([p+n.topright,s+1]),y=0,k=-1,B=1,a=!0;break}else P&i1?(f.push([p+1,s+1]),y=1,k=0,B=1):(f.push([p+1,s+1]),y=1,k=0,B=1);else if(y===-1)if(B===0)if(P&a1)f.push([p,s+1]),y=0,k=1,B=0;else if(P&f1){f.push([p,s+n.leftbottom]),y=1,k=0,B=0,a=!0;break}else{f.push([p,s+n.lefttop]),y=1,k=0,B=1,a=!0;break}else if(P&a1)f.push([p,s+1]),y=0,k=1,B=0;else break;else if(y===1)if(B===0)if(P&n1)f.push([p+1,s]),y=0,k=-1,B=1;else{f.push([p+1,s+n.rightbottom]),y=-1,k=0,B=0,a=!0;break}else if(P&n1)f.push([p+1,s]),y=0,k=-1,B=1;else if(P&i1){f.push([p+1,s+n.righttop]),y=-1,k=0,B=1;break}else{f.push([p+1,s+n.rightbottom]),y=-1,k=0,B=0,a=!0;break}else break;else if(n=e.cells[s][p],P=n.cval_real,y===-1){if(B===0)if(typeof e.cells[s-1]<"u"&&typeof e.cells[s-1][p]<"u")y=0,k=-1,B=1;else if(P&f1)f.push([p,s]);else{f.push([p+n.bottomright,s]),y=0,k=1,B=1,a=!0;break}else if(!(P&a1))break}else if(y===1){if(B===0)break;if(typeof e.cells[s+1]<"u"&&typeof e.cells[s+1][p]<"u")y=0,k=1,B=0;else if(P&i1)f.push([p+1,s+1]),y=1,k=0,B=1;else{f.push([p+n.topleft,s+1]),y=0,k=-1,B=0,a=!0;break}}else if(k===-1)if(B===1)if(typeof e.cells[s][p+1]<"u")y=1,k=0,B=1;else if(P&n1)f.push([p+1,s]),y=0,k=-1,B=1;else{f.push([p+1,s+n.righttop]),y=-1,k=0,B=1,a=!0;break}else break;else if(k===1)if(B===0)if(typeof e.cells[s][p-1]<"u")y=-1,k=0,B=0;else if(P&a1)f.push([p,s+1]),y=0,k=1,B=0;else{f.push([p,s+n.leftbottom]),y=1,k=0,B=0,a=!0;break}else break;else break;if(p+=y,s+=k,p===u&&s===h)break}return{path:f,i:p,j:s,x:y,y:k,o:B}}function z0(e,u){delete e.edges[u];for(var h=u+1;h<e.edges.length;h++)e.edges[h-1]=e.edges[h];e.edges.pop()}function U0(e){if(e.edges.length>0){var u=e.edges[e.edges.length-1],h=e.cval_real;switch(u){case 0:return h&i1?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 1:return h&n1?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 2:return h&n1?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 3:return h&f1?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 4:return h&i1?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 5:return h&n1?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 6:return h&n1?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 7:return h&f1?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 8:return h&n1?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.righttop],x:-1,y:0,o:1};case 9:return h&f1?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 10:return h&f1?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.righttop],x:-1,y:0,o:1};case 11:return h&a1?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 12:return h&n1?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 13:return h&f1?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 14:return h&f1?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 15:return h&a1?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 16:return h&n1?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 17:return h&a1?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 18:return h&f1?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 19:return h&a1?{p:[e.bottomleft,0],x:0,y:1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 20:return h&a1?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 21:return h&i1?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.topright,1],x:0,y:-1,o:1};case 22:return h&a1?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 23:return h&i1?{p:[0,e.lefttop],x:1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};default:break}}return null}function W0(e,u,h,y){var k,B,n,P,p=e.cval,s;switch(u){case-1:switch(y){case 0:k=S[p],n=I[p],P=x[p],s=t[p];break;default:k=N[p],n=Q[p],P=Z[p],s=$[p];break}break;case 1:switch(y){case 0:k=T[p],n=l[p],P=e1[p],s=s1[p];break;default:k=q[p],n=V[p],P=m[p],s=b[p];break}break;default:switch(h){case-1:switch(y){case 0:k=u1[p],n=z[p],P=U[p],s=W[p];break;default:k=r1[p],n=D[p],P=K[p],s=H[p];break}break;case 1:switch(y){case 0:k=M[p],n=j[p],P=v[p],s=g[p];break;default:k=O[p],n=_[p],P=d[p],s=c[p];break}break}break}if(B=e.edges.indexOf(k),typeof e.edges[B]<"u")z0(e,B);else return null;switch(p=e.cval_real,k){case 0:p&i1?(u=e.topleft,h=1):(u=1,h=e.righttop);break;case 1:p&n1?(u=1,h=e.rightbottom):(u=e.topleft,h=1);break;case 2:p&n1?(u=e.topleft,h=1):(u=e.bottomright,h=0);break;case 3:p&f1?(u=e.bottomleft,h=0):(u=e.topleft,h=1);break;case 4:p&i1?(u=e.topright,h=1):(u=1,h=e.righttop);break;case 5:p&n1?(u=1,h=e.rightbottom):(u=e.topright,h=1);break;case 6:p&n1?(u=e.topright,h=1):(u=e.bottomright,h=0);break;case 7:p&f1?(u=e.bottomleft,h=0):(u=e.topright,h=1);break;case 8:p&n1?(u=1,h=e.righttop):(u=e.bottomright,h=0);break;case 9:p&f1?(u=e.bottomleft,h=0):(u=1,h=e.righttop);break;case 10:p&f1?(u=1,h=e.righttop):(u=0,h=e.leftbottom);break;case 11:p&a1?(u=0,h=e.lefttop):(u=1,h=e.righttop);break;case 12:p&n1?(u=1,h=e.rightbottom):(u=e.bottomright,h=0);break;case 13:p&f1?(u=e.bottomleft,h=0):(u=1,h=e.rightbottom);break;case 14:p&f1?(u=1,h=e.rightbottom):(u=0,h=e.leftbottom);break;case 15:p&a1?(u=0,h=e.lefttop):(u=1,h=e.rightbottom);break;case 16:p&n1?(u=0,h=e.leftbottom):(u=e.bottomright,h=0);break;case 17:p&a1?(u=0,h=e.lefttop):(u=e.bottomright,h=0);break;case 18:p&f1?(u=e.bottomleft,h=0):(u=0,h=e.leftbottom);break;case 19:p&a1?(u=0,h=e.lefttop):(u=e.bottomleft,h=0);break;case 20:p&a1?(u=0,h=e.leftbottom):(u=e.topleft,h=1);break;case 21:p&i1?(u=e.topright,h=1):(u=0,h=e.leftbottom);break;case 22:p&a1?(u=0,h=e.lefttop):(u=e.topleft,h=1);break;case 23:p&i1?(u=e.topright,h=1):(u=0,h=e.lefttop);break;default:return null}return{p:[u,h],x:n,y:P,o:s}}function D0(e){var u=[],h=0;return e.cells.forEach(function(y,k){y.forEach(function(B,n){if(typeof B<"u"){var P=E[B.cval](B);typeof P=="object"&&P1(P)&&typeof P[0]=="object"&&P1(P[0])&&(typeof P[0][0]=="object"&&P1(P[0][0])?P.forEach(function(p){p.forEach(function(s){s[0]+=n,s[1]+=k}),u[h++]=p}):(P.forEach(function(p){p[0]+=n,p[1]+=k}),u[h++]=P))}})}),u}function t0(e,u,h){if(h=h||{},!w1(h))throw new Error("options is invalid");var y=h.zProperty||"elevation",k=h.commonProperties||{},B=h.breaksProperties||[];if(K1(e,"Point","Input must contain Points"),!u)throw new Error("breaks is required");if(!Array.isArray(u))throw new Error("breaks is not an Array");if(!w1(k))throw new Error("commonProperties is not an Object");if(!Array.isArray(B))throw new Error("breaksProperties is not an Array");var n=d1(e,{zProperty:y,flip:!0}),P=K0(n,u,y);P=H0(P,n,e);var p=P.map(function(s,f){if(B[f]&&!w1(B[f]))throw new Error("Each mappedProperty is required to be an Object");var a=H1({},k,B[f]);a[y]=s[y];var i=Q1(s.groupedRings,a);return i});return W1(p)}function K0(e,u,h){for(var y=[],k=1;k<u.length;k++){var B=+u[k-1],n=+u[k],P=V1(e,B,n-B),p=Q0(P),s=Z0(p),f={};f.groupedRings=s,f[h]=B+"-"+n,y.push(f)}return y}function H0(e,u,h){var y=S1(h),k=y[2]-y[0],B=y[3]-y[1],n=y[0],P=y[1],p=u[0].length-1,s=u.length-1,f=k/p,a=B/s,i=function(o){o[0]=o[0]*f+n,o[1]=o[1]*a+P};return e.forEach(function(o){o.groupedRings.forEach(function(o1){o1.forEach(function(X){X.forEach(i)})})}),e}function Q0(e){var u=[],h=[];e.forEach(function(k){var B=g1(E1([k]));h.push(B),u.push({ring:k,area:B})}),h.sort(function(k,B){return B-k});var y=[];return h.forEach(function(k){for(var B=0;B<u.length;B++)if(u[B].area===k){y.push(u[B].ring),u.splice(B,1);break}}),y}function Z0(e){for(var u=e.map(function(p){return{lrCoordinates:p,grouped:!1}}),h=[];!I0(u);)for(var y=0;y<u.length;y++)if(!u[y].grouped){var k=[];k.push(u[y].lrCoordinates),u[y].grouped=!0;for(var B=E1([u[y].lrCoordinates]),n=y+1;n<u.length;n++)if(!u[n].grouped){var P=E1([u[n].lrCoordinates]);$0(P,B)&&(k.push(u[n].lrCoordinates),u[n].grouped=!0)}h.push(k)}return h}function $0(e,u){for(var h=v1(e),y=0;y<h.features.length;y++)if(!t1(h.features[y],u))return!1;return!0}function I0(e){for(var u=0;u<e.length;u++)if(e[u].grouped===!1)return!1;return!0}export{g1 as a,S1 as b,W1 as f,t0 as i,G1 as p};
