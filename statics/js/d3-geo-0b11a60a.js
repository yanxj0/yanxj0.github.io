import{m as Qn}from"./d3-array-8038b3b2.js";function Z(){return new sn}function sn(){this.reset()}sn.prototype={constructor:sn,reset:function(){this.s=this.t=0},add:function(n){Nn(fn,n,this.t),Nn(this,fn.s,this.s),this.s?this.t+=fn.t:this.s=fn.t},valueOf:function(){return this.s}};var fn=new sn;function Nn(n,t,r){var i=n.s=t+r,o=i-t,u=i-o;n.t=t-u+(r-o)}var L=1e-6,A=Math.PI,U=A/2,Rn=A/4,V=A*2,Y=180/A,Q=A/180,H=Math.abs,mn=Math.atan,j=Math.atan2,T=Math.cos,O=Math.sin,nn=Math.sqrt;function Un(n){return n>1?0:n<-1?A:Math.acos(n)}function x(n){return n>1?U:n<-1?-U:Math.asin(n)}function rn(){}function hn(n,t){n&&Ln.hasOwnProperty(n.type)&&Ln[n.type](n,t)}var An={Feature:function(n,t){hn(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,o=r.length;++i<o;)hn(r[i].geometry,t)}},Ln={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,o=r.length;++i<o;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){wn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,o=r.length;++i<o;)wn(r[i],t,0)},Polygon:function(n,t){qn(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,o=r.length;++i<o;)qn(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,o=r.length;++i<o;)hn(r[i],t)}};function wn(n,t,r){var i=-1,o=n.length-r,u;for(t.lineStart();++i<o;)u=n[i],t.point(u[0],u[1],u[2]);t.lineEnd()}function qn(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)wn(n[r],t,1);t.polygonEnd()}function bn(n,t){n&&An.hasOwnProperty(n.type)?An[n.type](n,t):hn(n,t)}Z();Z();function Mn(n){return[j(n[1],n[0]),x(n[2])]}function m(n){var t=n[0],r=n[1],i=T(r);return[i*T(t),i*O(t),O(r)]}function ln(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function gn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function yn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function cn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Pn(n){var t=nn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}Z();function Vn(n,t){function r(i,o){return i=n(i,o),t(i[0],i[1])}return n.invert&&t.invert&&(r.invert=function(i,o){return i=t.invert(i,o),i&&n.invert(i[0],i[1])}),r}function zn(n,t){return[n>A?n-V:n<-A?n+V:n,t]}zn.invert=zn;function nt(n,t,r){return(n%=V)?t||r?Vn(Dn(n),Tn(t,r)):Dn(n):t||r?Tn(t,r):zn}function Cn(n){return function(t,r){return t+=n,[t>A?t-V:t<-A?t+V:t,r]}}function Dn(n){var t=Cn(n);return t.invert=Cn(-n),t}function Tn(n,t){var r=T(n),i=O(n),o=T(t),u=O(t);function s(h,y){var v=T(y),e=T(h)*v,f=O(h)*v,l=O(y),a=l*r+e*i;return[j(f*o-a*u,e*r-l*i),x(a*o+f*u)]}return s.invert=function(h,y){var v=T(y),e=T(h)*v,f=O(h)*v,l=O(y),a=l*o-f*u;return[j(f*o+l*u,e*r+a*i),x(a*r-e*i)]},s}function tt(n,t,r,i,o,u){if(r){var s=T(t),h=O(t),y=i*r;o==null?(o=t+i*V,u=t-y/2):(o=On(s,o),u=On(s,u),(i>0?o<u:o>u)&&(o+=i*V));for(var v,e=o;i>0?e>u:e<u;e-=y)v=Mn([s,-h*T(e),-h*O(e)]),n.point(v[0],v[1])}}function On(n,t){t=m(t),t[0]-=n,Pn(t);var r=Un(-t[1]);return((-t[2]<0?-r:r)+V-L)%V}function Wn(){var n=[],t;return{point:function(r,i){t.push([r,i])},lineStart:function(){n.push(t=[])},lineEnd:rn,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function it(n,t,r,i,o,u){var s=n[0],h=n[1],y=t[0],v=t[1],e=0,f=1,l=y-s,a=v-h,c;if(c=r-s,!(!l&&c>0)){if(c/=l,l<0){if(c<e)return;c<f&&(f=c)}else if(l>0){if(c>f)return;c>e&&(e=c)}if(c=o-s,!(!l&&c<0)){if(c/=l,l<0){if(c>f)return;c>e&&(e=c)}else if(l>0){if(c<e)return;c<f&&(f=c)}if(c=i-h,!(!a&&c>0)){if(c/=a,a<0){if(c<e)return;c<f&&(f=c)}else if(a>0){if(c>f)return;c>e&&(e=c)}if(c=u-h,!(!a&&c<0)){if(c/=a,a<0){if(c>f)return;c>e&&(e=c)}else if(a>0){if(c<e)return;c<f&&(f=c)}return e>0&&(n[0]=s+e*l,n[1]=h+e*a),f<1&&(t[0]=s+f*l,t[1]=h+f*a),!0}}}}}function vn(n,t){return H(n[0]-t[0])<L&&H(n[1]-t[1])<L}function an(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function Xn(n,t,r,i,o){var u=[],s=[],h,y;if(n.forEach(function(c){if(!((R=c.length-1)<=0)){var R,E=c[0],N=c[R],S;if(vn(E,N)){for(o.lineStart(),h=0;h<R;++h)o.point((E=c[h])[0],E[1]);o.lineEnd();return}u.push(S=new an(E,c,null,!0)),s.push(S.o=new an(E,null,S,!1)),u.push(S=new an(N,c,null,!1)),s.push(S.o=new an(N,null,S,!0))}}),!!u.length){for(s.sort(t),Bn(u),Bn(s),h=0,y=s.length;h<y;++h)s[h].e=r=!r;for(var v=u[0],e,f;;){for(var l=v,a=!0;l.v;)if((l=l.n)===v)return;e=l.z,o.lineStart();do{if(l.v=l.o.v=!0,l.e){if(a)for(h=0,y=e.length;h<y;++h)o.point((f=e[h])[0],f[1]);else i(l.x,l.n.x,1,o);l=l.n}else{if(a)for(e=l.p.z,h=e.length-1;h>=0;--h)o.point((f=e[h])[0],f[1]);else i(l.x,l.p.x,-1,o);l=l.p}l=l.o,e=l.z,a=!a}while(!l.v);o.lineEnd()}}}function Bn(n){if(t=n.length){for(var t,r=0,i=n[0],o;++r<t;)i.n=o=n[r],o.p=i,i=o;i.n=o=n[0],o.p=i}}var en=1e9,pn=-en;function rt(n,t,r,i){function o(v,e){return n<=v&&v<=r&&t<=e&&e<=i}function u(v,e,f,l){var a=0,c=0;if(v==null||(a=s(v,f))!==(c=s(e,f))||y(v,e)<0^f>0)do l.point(a===0||a===3?n:r,a>1?i:t);while((a=(a+f+4)%4)!==c);else l.point(e[0],e[1])}function s(v,e){return H(v[0]-n)<L?e>0?0:3:H(v[0]-r)<L?e>0?2:1:H(v[1]-t)<L?e>0?1:0:e>0?3:2}function h(v,e){return y(v.x,e.x)}function y(v,e){var f=s(v,1),l=s(e,1);return f!==l?f-l:f===0?e[1]-v[1]:f===1?v[0]-e[0]:f===2?v[1]-e[1]:e[0]-v[0]}return function(v){var e=v,f=Wn(),l,a,c,R,E,N,S,P,z,q,g,d={point:M,lineStart:G,lineEnd:$,polygonStart:B,polygonEnd:C};function M(I,D){o(I,D)&&e.point(I,D)}function w(){for(var I=0,D=0,F=a.length;D<F;++D)for(var J=a[D],K=1,tn=J.length,W=J[0],_,X,un=W[0],k=W[1];K<tn;++K)_=un,X=k,W=J[K],un=W[0],k=W[1],X<=i?k>i&&(un-_)*(i-X)>(k-X)*(n-_)&&++I:k<=i&&(un-_)*(i-X)<(k-X)*(n-_)&&--I;return I}function B(){e=f,l=[],a=[],g=!0}function C(){var I=w(),D=g&&I,F=(l=Qn(l)).length;(D||F)&&(v.polygonStart(),D&&(v.lineStart(),u(null,null,1,v),v.lineEnd()),F&&Xn(l,h,I,u,v),v.polygonEnd()),e=v,l=a=c=null}function G(){d.point=p,a&&a.push(c=[]),q=!0,z=!1,S=P=NaN}function $(){l&&(p(R,E),N&&z&&f.rejoin(),l.push(f.result())),d.point=M,z&&e.lineEnd()}function p(I,D){var F=o(I,D);if(a&&c.push([I,D]),q)R=I,E=D,N=F,q=!1,F&&(e.lineStart(),e.point(I,D));else if(F&&z)e.point(I,D);else{var J=[S=Math.max(pn,Math.min(en,S)),P=Math.max(pn,Math.min(en,P))],K=[I=Math.max(pn,Math.min(en,I)),D=Math.max(pn,Math.min(en,D))];it(J,K,n,t,r,i)?(z||(e.lineStart(),e.point(J[0],J[1])),e.point(K[0],K[1]),F||e.lineEnd(),g=!1):F&&(e.lineStart(),e.point(I,D),g=!1)}S=I,P=D,z=F}return d}}var dn=Z();function et(n,t){var r=t[0],i=t[1],o=[O(r),-T(r),0],u=0,s=0;dn.reset();for(var h=0,y=n.length;h<y;++h)if(e=(v=n[h]).length)for(var v,e,f=v[e-1],l=f[0],a=f[1]/2+Rn,c=O(a),R=T(a),E=0;E<e;++E,l=S,c=z,R=q,f=N){var N=v[E],S=N[0],P=N[1]/2+Rn,z=O(P),q=T(P),g=S-l,d=g>=0?1:-1,M=d*g,w=M>A,B=c*z;if(dn.add(j(B*d*O(M),R*q+B*T(M))),u+=w?g+d*V:g,w^l>=r^S>=r){var C=gn(m(f),m(N));Pn(C);var G=gn(o,C);Pn(G);var $=(w^g>=0?-1:1)*x(G[2]);(i>$||i===$&&(C[0]||C[1]))&&(s+=w^g>=0?1:-1)}}return(u<-L||u<L&&dn<-L)^s&1}Z();function Gn(n){return n}Z();Z();var b=1/0,Sn=b,on=-b,En=on,Fn={point:ot,lineStart:rn,lineEnd:rn,polygonStart:rn,polygonEnd:rn,result:function(){var n=[[b,Sn],[on,En]];return on=En=-(Sn=b=1/0),n}};function ot(n,t){n<b&&(b=n),n>on&&(on=n),t<Sn&&(Sn=t),t>En&&(En=t)}Z();function Yn(n,t,r,i){return function(o,u){var s=t(u),h=o.invert(i[0],i[1]),y=Wn(),v=t(y),e=!1,f,l,a,c={point:R,lineStart:N,lineEnd:S,polygonStart:function(){c.point=P,c.lineStart=z,c.lineEnd=q,l=[],f=[]},polygonEnd:function(){c.point=R,c.lineStart=N,c.lineEnd=S,l=Qn(l);var g=et(f,h);l.length?(e||(u.polygonStart(),e=!0),Xn(l,ft,g,r,u)):g&&(e||(u.polygonStart(),e=!0),u.lineStart(),r(null,null,1,u),u.lineEnd()),e&&(u.polygonEnd(),e=!1),l=f=null},sphere:function(){u.polygonStart(),u.lineStart(),r(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function R(g,d){var M=o(g,d);n(g=M[0],d=M[1])&&u.point(g,d)}function E(g,d){var M=o(g,d);s.point(M[0],M[1])}function N(){c.point=E,s.lineStart()}function S(){c.point=R,s.lineEnd()}function P(g,d){a.push([g,d]);var M=o(g,d);v.point(M[0],M[1])}function z(){v.lineStart(),a=[]}function q(){P(a[0][0],a[0][1]),v.lineEnd();var g=v.clean(),d=y.result(),M,w=d.length,B,C,G;if(a.pop(),f.push(a),a=null,!!w){if(g&1){if(C=d[0],(B=C.length-1)>0){for(e||(u.polygonStart(),e=!0),u.lineStart(),M=0;M<B;++M)u.point((G=C[M])[0],G[1]);u.lineEnd()}return}w>1&&g&2&&d.push(d.pop().concat(d.shift())),l.push(d.filter(ut))}}return c}}function ut(n){return n.length>1}function ft(n,t){return((n=n.x)[0]<0?n[1]-U-L:U-n[1])-((t=t.x)[0]<0?t[1]-U-L:U-t[1])}const Hn=Yn(function(){return!0},lt,at,[-A,-U]);function lt(n){var t=NaN,r=NaN,i=NaN,o;return{lineStart:function(){n.lineStart(),o=1},point:function(u,s){var h=u>0?A:-A,y=H(u-t);H(y-A)<L?(n.point(t,r=(r+s)/2>0?U:-U),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(h,r),n.point(u,r),o=0):i!==h&&y>=A&&(H(t-i)<L&&(t-=i*L),H(u-h)<L&&(u-=h*L),r=ct(t,r,u,s),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(h,r),o=0),n.point(t=u,r=s),i=h},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-o}}}function ct(n,t,r,i){var o,u,s=O(n-r);return H(s)>L?mn((O(t)*(u=T(i))*O(r)-O(i)*(o=T(t))*O(n))/(o*u*s)):(t+i)/2}function at(n,t,r,i){var o;if(n==null)o=r*U,i.point(-A,o),i.point(0,o),i.point(A,o),i.point(A,0),i.point(A,-o),i.point(0,-o),i.point(-A,-o),i.point(-A,0),i.point(-A,o);else if(H(n[0]-t[0])>L){var u=n[0]<t[0]?A:-A;o=r*u/2,i.point(-u,o),i.point(0,o),i.point(u,o)}else i.point(t[0],t[1])}function pt(n,t){var r=T(n),i=r>0,o=H(r)>L;function u(e,f,l,a){tt(a,n,t,l,e,f)}function s(e,f){return T(e)*T(f)>r}function h(e){var f,l,a,c,R;return{lineStart:function(){c=a=!1,R=1},point:function(E,N){var S=[E,N],P,z=s(E,N),q=i?z?0:v(E,N):z?v(E+(E<0?A:-A),N):0;if(!f&&(c=a=z)&&e.lineStart(),z!==a&&(P=y(f,S),(!P||vn(f,P)||vn(S,P))&&(S[0]+=L,S[1]+=L,z=s(S[0],S[1]))),z!==a)R=0,z?(e.lineStart(),P=y(S,f),e.point(P[0],P[1])):(P=y(f,S),e.point(P[0],P[1]),e.lineEnd()),f=P;else if(o&&f&&i^z){var g;!(q&l)&&(g=y(S,f,!0))&&(R=0,i?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}z&&(!f||!vn(f,S))&&e.point(S[0],S[1]),f=S,a=z,l=q},lineEnd:function(){a&&e.lineEnd(),f=null},clean:function(){return R|(c&&a)<<1}}}function y(e,f,l){var a=m(e),c=m(f),R=[1,0,0],E=gn(a,c),N=ln(E,E),S=E[0],P=N-S*S;if(!P)return!l&&e;var z=r*N/P,q=-r*S/P,g=gn(R,E),d=cn(R,z),M=cn(E,q);yn(d,M);var w=g,B=ln(d,w),C=ln(w,w),G=B*B-C*(ln(d,d)-1);if(!(G<0)){var $=nn(G),p=cn(w,(-B-$)/C);if(yn(p,d),p=Mn(p),!l)return p;var I=e[0],D=f[0],F=e[1],J=f[1],K;D<I&&(K=I,I=D,D=K);var tn=D-I,W=H(tn-A)<L,_=W||tn<L;if(!W&&J<F&&(K=F,F=J,J=K),_?W?F+J>0^p[1]<(H(p[0]-I)<L?F:J):F<=p[1]&&p[1]<=J:tn>A^(I<=p[0]&&p[0]<=D)){var X=cn(w,(-B+$)/C);return yn(X,d),[p,Mn(X)]}}}function v(e,f){var l=i?n:A-n,a=0;return e<-l?a|=1:e>l&&(a|=2),f<-l?a|=4:f>l&&(a|=8),a}return Yn(s,h,u,i?[0,-n]:[-A,n-A])}function Zn(n){return function(t){var r=new In;for(var i in n)r[i]=n[i];return r.stream=t,r}}function In(){}In.prototype={constructor:In,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function _n(n,t,r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],u=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),u!=null&&n.clipExtent(null),bn(r,n.stream(Fn));var s=Fn.result(),h=Math.min(i/(s[1][0]-s[0][0]),o/(s[1][1]-s[0][1])),y=+t[0][0]+(i-h*(s[1][0]+s[0][0]))/2,v=+t[0][1]+(o-h*(s[1][1]+s[0][1]))/2;return u!=null&&n.clipExtent(u),n.scale(h*150).translate([y,v])}function vt(n,t,r){return _n(n,[[0,0],t],r)}var $n=16,st=T(30*Q);function Jn(n,t){return+t?gt(n,t):ht(n)}function ht(n){return Zn({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function gt(n,t){function r(i,o,u,s,h,y,v,e,f,l,a,c,R,E){var N=v-i,S=e-o,P=N*N+S*S;if(P>4*t&&R--){var z=s+l,q=h+a,g=y+c,d=nn(z*z+q*q+g*g),M=x(g/=d),w=H(H(g)-1)<L||H(u-f)<L?(u+f)/2:j(q,z),B=n(w,M),C=B[0],G=B[1],$=C-i,p=G-o,I=S*$-N*p;(I*I/P>t||H((N*$+S*p)/P-.5)>.3||s*l+h*a+y*c<st)&&(r(i,o,u,s,h,y,C,G,w,z/=d,q/=d,g,R,E),E.point(C,G),r(C,G,w,z,q,g,v,e,f,l,a,c,R,E))}}return function(i){var o,u,s,h,y,v,e,f,l,a,c,R,E={point:N,lineStart:S,lineEnd:z,polygonStart:function(){i.polygonStart(),E.lineStart=q},polygonEnd:function(){i.polygonEnd(),E.lineStart=S}};function N(M,w){M=n(M,w),i.point(M[0],M[1])}function S(){f=NaN,E.point=P,i.lineStart()}function P(M,w){var B=m([M,w]),C=n(M,w);r(f,l,e,a,c,R,f=C[0],l=C[1],e=M,a=B[0],c=B[1],R=B[2],$n,i),i.point(f,l)}function z(){E.point=N,i.lineEnd()}function q(){S(),E.point=g,E.lineEnd=d}function g(M,w){P(o=M,w),u=f,s=l,h=a,y=c,v=R,E.point=P}function d(){r(f,l,e,a,c,R,u,s,o,h,y,v,$n,i),E.lineEnd=z,z()}return E}}var St=Zn({point:function(n,t){this.stream.point(n*Q,t*Q)}});function Et(n){return yt(function(){return n})()}function yt(n){var t,r=150,i=480,o=250,u,s,h=0,y=0,v=0,e=0,f=0,l,a,c=null,R=Hn,E=null,N,S,P,z=Gn,q=.5,g=Jn(C,q),d,M;function w(p){return p=a(p[0]*Q,p[1]*Q),[p[0]*r+u,s-p[1]*r]}function B(p){return p=a.invert((p[0]-u)/r,(s-p[1])/r),p&&[p[0]*Y,p[1]*Y]}function C(p,I){return p=t(p,I),[p[0]*r+u,s-p[1]*r]}w.stream=function(p){return d&&M===p?d:d=St(R(l,g(z(M=p))))},w.clipAngle=function(p){return arguments.length?(R=+p?pt(c=p*Q,6*Q):(c=null,Hn),$()):c*Y},w.clipExtent=function(p){return arguments.length?(z=p==null?(E=N=S=P=null,Gn):rt(E=+p[0][0],N=+p[0][1],S=+p[1][0],P=+p[1][1]),$()):E==null?null:[[E,N],[S,P]]},w.scale=function(p){return arguments.length?(r=+p,G()):r},w.translate=function(p){return arguments.length?(i=+p[0],o=+p[1],G()):[i,o]},w.center=function(p){return arguments.length?(h=p[0]%360*Q,y=p[1]%360*Q,G()):[h*Y,y*Y]},w.rotate=function(p){return arguments.length?(v=p[0]%360*Q,e=p[1]%360*Q,f=p.length>2?p[2]%360*Q:0,G()):[v*Y,e*Y,f*Y]},w.precision=function(p){return arguments.length?(g=Jn(C,q=p*p),$()):nn(q)},w.fitExtent=function(p,I){return _n(w,p,I)},w.fitSize=function(p,I){return vt(w,p,I)};function G(){a=Vn(l=nt(v,e,f),t);var p=t(h,y);return u=i-p[0]*r,s=o+p[1]*r,$()}function $(){return d=M=null,w}return function(){return t=n.apply(this,arguments),w.invert=t.invert&&B,G()}}function xn(n){return function(t,r){var i=T(t),o=T(r),u=n(i*o);return[u*o*O(t),u*O(r)]}}function kn(n){return function(t,r){var i=nn(t*t+r*r),o=n(i),u=O(o),s=T(o);return[j(t*u,i*s),x(i&&r*u/i)]}}var dt=xn(function(n){return nn(2/(1+n))});dt.invert=kn(function(n){return 2*x(n/2)});var jn=xn(function(n){return(n=Un(n))&&n/O(n)});jn.invert=kn(function(n){return n});function Mt(){return Et(jn).scale(79.4188).clipAngle(180-.001)}function Kn(n,t){return[n,t]}Kn.invert=Kn;export{Mt as g};
